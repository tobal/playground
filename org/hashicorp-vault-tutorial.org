* Tutorial commands and outputs

#+NAME: HashiCorp Vault Tutorial commands
#+BEGIN_SRC bash
15:31:39 [tobal@zion] (master) ~
$> export VAULT_ADDR='http://127.0.0.1:8200'
15:33:30 [tobal@zion] (master) ~
$> cd /opt/splunk/
bin/     etc/     include/ lib/     openssl/ share/   var/
15:33:30 [tobal@zion] (master) ~
$> cd opt/vault/
15:34:03 [tobal@zion] (master) ~/opt/vault
$> ls
bin
15:34:03 [tobal@zion] (master) ~/opt/vault
$> vim secret.txt
15:34:35 [tobal@zion] (master) ~/opt/vault
$> cat secret.txt
Unseal Key: BWrTVG7ubE37vPDQs63FSVeSsJOLGXjC/Qoht0vzvJ4=
Root Token: s.I6572ijlVThzmgwcYfU65fuN
15:34:53 [tobal@zion] (master) ~/opt/vault
$> export VAULT_DEV_ROOT_TOKEN_ID="s.I6572ijlVThzmgwcYfU65fuN"
15:35:12 [tobal@zion] (master) ~/opt/vault
$> vault status
Key             Value
---             -----
Seal Type       shamir
Initialized     true
Sealed          false
Total Shares    1
Threshold       1
Version         1.1.2
Cluster Name    vault-cluster-8ebb2a0a
Cluster ID      00061a5d-10b2-dc5e-852e-50a05934a3b6
HA Enabled      false
15:35:40 [tobal@zion] (master) ~/opt/vault
$> vault kv put secret/hello foo=world
Key              Value
---              -----
created_time     2019-05-30T13:50:34.427159168Z
deletion_time    n/a
destroyed        false
version          1
15:50:34 [tobal@zion] (master) ~/opt/vault
$> vault kv put secret/hello foo=world excited=yes
Key              Value
---              -----
created_time     2019-05-30T13:51:18.581512531Z
deletion_time    n/a
destroyed        false
version          2
15:51:18 [tobal@zion] (master) ~/opt/vault
$> vault kv get secret/hello
====== Metadata ======
Key              Value
---              -----
created_time     2019-05-30T13:51:18.581512531Z
deletion_time    n/a
destroyed        false
version          2

===== Data =====
Key        Value
---        -----
excited    yes
foo        world
15:51:59 [tobal@zion] (master) ~/opt/vault
$> vault kv put secret/hello bar=hello
Key              Value
---              -----
created_time     2019-05-30T13:52:32.879340788Z
deletion_time    n/a
destroyed        false
version          3
15:52:32 [tobal@zion] (master) ~/opt/vault
$> vault kv get secret/hello
====== Metadata ======
Key              Value
---              -----
created_time     2019-05-30T13:52:32.879340788Z
deletion_time    n/a
destroyed        false
version          3

=== Data ===
Key    Value
---    -----
bar    hello
15:52:35 [tobal@zion] (master) ~/opt/vault
$> vault kv put secret/hello foo=world excited=yes bar=hello
Key              Value
---              -----
created_time     2019-05-30T13:52:43.667412598Z
deletion_time    n/a
destroyed        false
version          4
15:52:43 [tobal@zion] (master) ~/opt/vault
$> vault kv get secret/hello
====== Metadata ======
Key              Value
---              -----
created_time     2019-05-30T13:52:43.667412598Z
deletion_time    n/a
destroyed        false
version          4

===== Data =====
Key        Value
---        -----
bar        hello
excited    yes
foo        world
15:52:45 [tobal@zion] (master) ~/opt/vault
$> vault kv put secret/hello foo=world excited=yes
Key              Value
---              -----
created_time     2019-05-30T13:52:49.553307387Z
deletion_time    n/a
destroyed        false
version          5
15:52:49 [tobal@zion] (master) ~/opt/vault
$> vault kv get -field=excited secret/hello
yes
15:54:03 [tobal@zion] (master) ~/opt/vault
$> vault kv get -format=json secret/hello | jq -r .data.data.excited
yes
15:54:09 [tobal@zion] (master) ~/opt/vault
$> vault kv get -format=json secret/hello
{
      "request_id": "72357b22-0d80-b553-cb7d-a3ff3ac0eba1",
        "lease_id": "",
          "lease_duration": 0,
            "renewable": false,
              "data": {
                      "data": {
                                "excited": "yes",
                                      "foo": "world"
                                          },
                                              "metadata": {
                                                        "created_time": "2019-05-30T13:52:49.553307387Z",
                                                              "deletion_time": "",
                                                                    "destroyed": false,
                                                                          "version": 5
                                                                              }
                                                                                },
                                                                                  "warnings": null
}
15:54:13 [tobal@zion] (master) ~/opt/vault
$> vault kv delete secret/hello
Success! Data deleted (if it existed) at: secret/hello
15:54:44 [tobal@zion] (master) ~/opt/vault
$> vault secrets enable -path=kv kv
Success! Enabled the kv secrets engine at: kv/
09:35:47 [tobal@zion] (master) ~/opt/vault
$> vault secrets list
Path          Type         Accessor              Description
----          ----         --------              -----------
cubbyhole/    cubbyhole    cubbyhole_9335b388    per-token private secret storage
identity/     identity     identity_19b8adf5     identity store
kv/           kv           kv_a4617f06           n/a
secret/       kv           kv_1ab8add4           key/value secret storage
sys/          system       system_14f027eb       system endpoints used for control, policy and debugging
09:37:07 [tobal@zion] (master) ~/opt/vault
$> vault write kv/my-secret value="s3c(eT"
Success! Data written to: kv/my-secret
09:40:39 [tobal@zion] (master) ~/opt/vault
$> vault write kv/hello target=world
Success! Data written to: kv/hello
09:40:45 [tobal@zion] (master) ~/opt/vault
$> vault write kv/airplane type=boeing class=787
Success! Data written to: kv/airplane
09:40:51 [tobal@zion] (master) ~/opt/vault
$> vault list kv
Keys
----
airplane
hello
my-secret

09:51:36 [tobal@zion] (master) ~/opt/vault
$> vault secrets disable kv/
Success! Disabled the secrets engine (if it existed) at: kv/
09:53:09 [tobal@zion] (master) ~/opt/vault
$> vault secrets enable -path=aws aws
Success! Enabled the aws secrets engine at: aws/
10:01:17 [tobal@zion] (master) ~/opt/vault
$> vault write aws/config/root \
> access_key=<secret> \
> secret_key=<secret> \
> region=eu-central-1
Success! Data written to: aws/config/root
10:10:20 [tobal@zion] (master) ~/opt/vault
$> vault write aws/roles/my-role \
>         credential_type=iam_user \
>         policy_document=-<<EOF
> {
    >   "Version": "2012-10-17",
    >   "Statement": [
    >     {
        >       "Sid": "Stmt1426528957000",
        >       "Effect": "Allow",
        >       "Action": [
        >         "ec2:*"
        >       ],
        >       "Resource": [
        >         "*"
        >       ]
        >     }
        >   ]
        > }
        > EOF
        Success! Data written to: aws/roles/my-role
        10:15:03 [tobal@zion] (master) ~/opt/vault
        $> vault read aws/creds/my-role
        Key                Value
        ---                -----
        lease_id           aws/creds/my-role/uMwE5XhL4FAGJSBV4ykUoYJt
        lease_duration     768h
        lease_renewable    true
        access_key         <secret>
        secret_key         <secret>
        security_token     <nil>
        10:15:28 [tobal@zion] (master) ~/opt/vault
        $> vault lease revoke
        Not enough arguments (expected 1, got 0)
        10:17:24 [tobal@zion] (master) ~/opt/vault
        $> vault lease revoke aws/creds/my-role/uMwE5XhL4FAGJSBV4ykUoYJt
        All revocation operations queued successfully!
        10:20:04 [tobal@zion] (master) ~/opt/vault
        $> vault path-help aws
## DESCRIPTION

        The AWS backend dynamically generates AWS access keys for a set of
        IAM policies. The AWS access keys have a configurable lease set and
        are automatically revoked at the end of the lease.

        After mounting this backend, credentials to generate IAM keys must
        be configured with the "root" path and policies must be written using
        the "roles/" endpoints before any access keys can be generated.

## PATHS

The following paths are supported by this backend. To view help for
any of the paths below, use the help command with any route matching
the path pattern. Note that depending on the policy of your auth token,
you may or may not be able to access certain paths.

    ^(creds|sts)/(?P<name>\w(([\w-.]+)?\w)?)$
            Generate AWS credentials from a specific Vault role.

                ^config/lease$
                        Configure the default lease information for generated credentials.

                            ^config/root$
                                    Configure the root credentials that are used to manage IAM.

                                        ^config/rotate-root$
                                                Request to rotate the AWS credentials used by Vault

                                                    ^roles/(?P<name>\w(([\w-.]+)?\w)?)$
                                                            Read, write and reference IAM policies that access keys can be made for.

                                                                ^roles/?$
                                                                        List the existing roles in this backend
                                                                        10:21:46 [tobal@zion] (master) ~/opt/vault
                                                                        $> vault path-help aws/creds/my-non-existent-role
                                                                        Request:        creds/my-non-existent-role
                                                                        Matching Route: ^(creds|sts)/(?P<name>\w(([\w-.]+)?\w)?)$

                                                                        Generate AWS credentials from a specific Vault role.

## PARAMETERS

    name (string)
            Name of the role

                role_arn (string)
                        ARN of role to assume when credential_type is assumed_role

                            ttl (duration (sec))
                                    Lifetime of the returned credentials in seconds

## DESCRIPTION

This path will generate new, never before used AWS credentials for
accessing AWS. The IAM policy used to back this key pair will be
the "name" parameter. For example, if this backend is mounted at "aws",
then "aws/creds/deploy" would generate access keys for the "deploy" role.

The access keys will have a lease associated with them. The access keys
can be revoked by using the lease ID when using the iam_user credential type.
When using AWS STS credential types (assumed_role or federation_token),
revoking the lease does not revoke the access keys.
10:23:03 [tobal@zion] (master) ~/opt/vault
$> vault token create
Key                  Value
---                  -----
token                s.IyhHYst70vkczB5LwTXECWLw
token_accessor       OqUp4jR4lv7NStFfUdOJKkoy
token_duration       ∞
token_renewable      false
token_policies       ["root"]
identity_policies    []
policies             ["root"]
10:25:14 [tobal@zion] (master) ~/opt/vault
$> vault login s.IyhHYst70vkczB5LwTXECWLw
Success! You are now authenticated. The token information displayed below
is already stored in the token helper. You do NOT need to run "vault login"
again. Future Vault requests will automatically use this token.

Key                  Value
---                  -----
token                s.IyhHYst70vkczB5LwTXECWLw
token_accessor       OqUp4jR4lv7NStFfUdOJKkoy
token_duration       ∞
token_renewable      false
token_policies       ["root"]
identity_policies    []
policies             ["root"]
10:25:57 [tobal@zion] (master) ~/opt/vault
$> vault token revoke s.IyhHYst70vkczB5LwTXECWLw
Success! Revoked token (if it existed)
10:26:20 [tobal@zion] (master) ~/opt/vault
$> vault login s.I6572ijlVThzmgwcYfU65fuN
Success! You are now authenticated. The token information displayed below
is already stored in the token helper. You do NOT need to run "vault login"
again. Future Vault requests will automatically use this token.

Key                  Value
---                  -----
token                s.I6572ijlVThzmgwcYfU65fuN
token_accessor       XwnLGCHY2fPVAqmZnauUbkKb
token_duration       ∞
token_renewable      false
token_policies       ["root"]
identity_policies    []
policies             ["root"]
10:27:50 [tobal@zion] (master) ~/opt/vault
$> vault auth enable -path=github github
Success! Enabled github auth method at: github/
10:28:45 [tobal@zion] (master) ~/opt/vault
$> vault auth list
Path       Type      Accessor                Description
----       ----      --------                -----------
github/    github    auth_github_22e43e39    n/a
token/     token     auth_token_ca8a86e5     token based credentials
10:30:20 [tobal@zion] (master) ~/opt/vault
$> vault auth help github
Usage: vault login -method=github [CONFIG K=V...]

  The GitHub auth method allows users to authenticate using a GitHub
    personal access token. Users can generate a personal access token from the
      settings page on their GitHub account.

        Authenticate using a GitHub token:

              $ vault login -method=github token=abcd1234

              Configuration:

                mount=<string>
                      Path where the GitHub credential method is mounted. This is usually
                            provided via the -path flag in the "vault login" command, but it can be
                                  specified here as well. If specified here, it takes precedence over the
                                        value for -path. The default value is "github".

                                          token=<string>
                                                GitHub personal access token to use for authentication. If not provided,
                                                      Vault will prompt for the value.
                                                      10:30:39 [tobal@zion] (master) ~/opt/vault
                                                      $> vault auth help userpass
                                                      Usage: vault login -method=userpass [CONFIG K=V...]

                                                        The userpass auth method allows users to authenticate using Vault's
                                                          internal user database.

                                                            If MFA is enabled, a "method" and/or "passcode" may be required depending on
                                                              the MFA method. To check which MFA is in use, run:

                                                                    $ vault read auth/<mount>/mfa_config

                                                                      Authenticate as "sally":

                                                                            $ vault login -method=userpass username=sally
                                                                                  Password (will be hidden):

                                                                                    Authenticate as "bob":

                                                                                          $ vault login -method=userpass username=bob password=password

                                                                                          Configuration:

                                                                                            method=<string>
                                                                                                  MFA method.

                                                                                                    passcode=<string>
                                                                                                          MFA OTP/passcode.

                                                                                                            password=<string>
                                                                                                                  Password to use for authentication. If not provided, the CLI will prompt
                                                                                                                        for this on stdin.

                                                                                                                              username=<string>
                                                                                                                                    Username to use for authentication.
                                                                                                                                    10:30:58 [tobal@zion] (master) ~/opt/vault
                                                                                                                                    $> vault login -method=github
                                                                                                                                    GitHub Personal Access Token (will be hidden):
                                                                                                                                    Error authenticating: Error making API request.

                                                                                                                                    URL: PUT http://127.0.0.1:8200/v1/auth/github/login
                                                                                                                                    Code: 400. Errors:

                                                                                                                                    * configure the github credential backend first
                                                                                                                                    10:32:12 [tobal@zion] (master) ~/opt/vault
                                                                                                                                    $> vault policy write my-policy my-policy.hcl
                                                                                                                                    Error opening policy file: open my-policy.hcl: no such file or directory
                                                                                                                                    10:34:17 [tobal@zion] (master) ~/opt/vault
                                                                                                                                    $> vault policy write my-policy -<<EOF
                                                                                                                                    > # Normal servers have version 1 of KV mounted by default, so will need these
                                                                                                                                    > # paths:
                                                                                                                                    > path "secret/*" {
                                                                                                                                        >   capabilities = ["create", "update"]
                                                                                                                                        > }
                                                                                                                                        > path "secret/foo" {
                                                                                                                                            >   capabilities = ["read"]
                                                                                                                                            > }
                                                                                                                                            >
                                                                                                                                            > # Dev servers have version 2 of KV mounted by default, so will need these
                                                                                                                                            > # paths:
                                                                                                                                            > path "secret/data/*" {
                                                                                                                                                >   capabilities = ["create", "update"]
                                                                                                                                                > }
                                                                                                                                                > path "secret/data/foo" {
                                                                                                                                                    >   capabilities = ["read"]
                                                                                                                                                    > }
                                                                                                                                                    > EOF
                                                                                                                                                    Success! Uploaded policy: my-policy
                                                                                                                                                    10:34:32 [tobal@zion] (master) ~/opt/vault
                                                                                                                                                    $> vault policy list
                                                                                                                                                    default
                                                                                                                                                    my-policy
                                                                                                                                                    root
                                                                                                                                                    10:34:40 [tobal@zion] (master) ~/opt/vault
                                                                                                                                                    $> vault policy read my-policy
# Normal servers have version 1 of KV mounted by default, so will need these
# paths:
                                                                                                                                                    path "secret/*" {
                                                                                                                                                          capabilities = ["create", "update"]
                                                                                                                                                    }
                                                                                                                                                    path "secret/foo" {
                                                                                                                                                          capabilities = ["read"]
                                                                                                                                                    }

# Dev servers have version 2 of KV mounted by default, so will need these
# paths:
path "secret/data/*" {
      capabilities = ["create", "update"]
}
path "secret/data/foo" {
      capabilities = ["read"]
}
10:34:48 [tobal@zion] (master) ~/opt/vault
$> vault write auth/github/map/teams/default value=my-policy
Success! Data written to: auth/github/map/teams/default
10:35:23 [tobal@zion] (master) ~/opt/vault
$> curl http://127.0.0.1:8200/v1/sys/init
{"initialized":true}
10:37:08 [tobal@zion] (master) ~/opt/vault
$> curl \
>     --request POST \
>     --data '{"secret_shares": 1, "secret_threshold": 1}' \
>     http://127.0.0.1:8200/v1/sys/init | jq
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                   Dload  Upload   Total   Spent    Left  Speed
                                   100    87  100    44  100    43  22000  21500 --:--:-- --:--:-- --:--:-- 87000
                                   {
                                         "errors": [
                                             "Vault is already initialized"
                                               ]
                                   }
                                   11:07:54 [tobal@zion] (master) ~/opt/vault
                                   $> curl \
                                   >     --header "X-Vault-Token: $VAULT_TOKEN" \
                                   >     --request POST \
                                   >     --data '{"type": "approle"}' \
                                   > ^C  http://127.0.0.1:8200/v1/sys/auth/approle
                                   11:08:57 [tobal@zion] (master) ~/opt/vault
                                   $> curl--header "X-Vault-Token: s.I6572ijlVThzmgwcYfU65fuN" --request POST --data '{"type": "approle"}' http://127.0.0.1:8200/v1/sys/auth/approle
                                   curl--header: command not found
                                   11:10:00 [tobal@zion] (master) ~/opt/vault
                                   $> curl --header "X-Vault-Token: s.I6572ijlVThzmgwcYfU65fuN" --request POST --data '{"type": "approle"}' http://
                                   127.0.0.1:8200/v1/sys/auth/approle
                                   11:10:11 [tobal@zion] (master) ~/opt/vault
                                   $> export VAULT_TOKEN=s.I6572ijlVThzmgwcYfU65fuN
                                   11:10:41 [tobal@zion] (master) ~/opt/vault
                                   $> curl \
                                   >     --header "X-Vault-Token: $VAULT_TOKEN" \
                                   >     --request POST \
                                   >     --data '{"policies": ["dev-policy", "my-policy"]}' \
                                   >     http://127.0.0.1:8200/v1/auth/approle/role/my-role
                                   11:10:49 [tobal@zion] (master) ~/opt/vault
                                   $> curl \
                                   >     --header "X-Vault-Token: $VAULT_TOKEN" \
                                   >      http://127.0.0.1:8200/v1/auth/approle/role/my-role/role-id | jq
                                     % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                                                      Dload  Upload   Total   Spent    Left  Speed
                                                                      100   208  100   208    0     0  69333      0 --:--:-- --:--:-- --:--:--  101k
                                                                      {
                                                                            "request_id": "0b931178-d981-f215-bbb3-4536bc0d1e1a",
                                                                              "lease_id": "",
                                                                                "renewable": false,
                                                                                  "lease_duration": 0,
                                                                                    "data": {
                                                                                            "role_id": "99da2de9-8cbb-afcd-737e-72f99572ee9d"
                                                                                              },
                                                                                                "wrap_info": null,
                                                                                                  "warnings": null,
                                                                                                    "auth": null
                                                                      }
                                                                      11:11:06 [tobal@zion] (master) ~/opt/vault
                                                                      $> curl \
                                                                      >     --header "X-Vault-Token: $VAULT_TOKEN" \
                                                                      >     --request POST \
                                                                      >     http://127.0.0.1:8200/v1/auth/approle/role/my-role/secret-id | jq
                                                                        % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                                                                                         Dload  Upload   Total   Spent    Left  Speed
                                                                                                         100   270  100   270    0     0   131k      0 --:--:-- --:--:-- --:--:--  131k
                                                                                                         {
                                                                                                               "request_id": "56087bef-cd25-c815-5d0b-f3568e04d8d9",
                                                                                                                 "lease_id": "",
                                                                                                                   "renewable": false,
                                                                                                                     "lease_duration": 0,
                                                                                                                       "data": {
                                                                                                                               "secret_id": "3a93c5c4-f58f-11eb-00c6-552ddf748c38",
                                                                                                                                   "secret_id_accessor": "058f2708-e207-7107-97c9-b847fcea2c19"
                                                                                                                                     },
                                                                                                                                       "wrap_info": null,
                                                                                                                                         "warnings": null,
                                                                                                                                           "auth": null
                                                                                                         }
                                                                                                         11:11:33 [tobal@zion] (master) ~/opt/vault
                                                                                                         $> curl --request POST \
                                                                                                         >        --data '{"role_id": "c3ec4eab-5477-c669-fca8-6a71fdf38c23", "secret_id": "fc2710e5-9536-3f4f-666d-fd5d8379b2b9"}' \
                                                                                                         >        http://127.0.0.1:8200/v1/auth/approle/login | jq
                                                                                                           % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                                                                                                                            Dload  Upload   Total   Spent    Left  Speed
                                                                                                                                            100   135  100    31  100   104  31000   101k --:--:-- --:--:-- --:--:--  131k
                                                                                                                                            {
                                                                                                                                                  "errors": [
                                                                                                                                                      "invalid role ID"
                                                                                                                                                        ]
                                                                                                                                            }
                                                                                                                                            11:11:47 [tobal@zion] (master) ~/opt/vault
                                                                                                                                            $> curl --request POST        --data '{"role_id": "99da2de9-8cbb-afcd-737e-72f99572ee9d", "secret_id": "3a93c5c4-f58f-11eb-00c6-552ddf748c38"}'        http://127.0.0.1:8200/v1/auth/approle/login | jq
                                                                                                                                              % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                                                                                                                                                               Dload  Upload   Total   Spent    Left  Speed
                                                                                                                                                                               100   612  100   508  100   104   124k  26000 --:--:-- --:--:-- --:--:--  149k
                                                                                                                                                                               {
                                                                                                                                                                                     "request_id": "db58e30b-d939-1565-4d41-fdff51f1719f",
                                                                                                                                                                                       "lease_id": "",
                                                                                                                                                                                         "renewable": false,
                                                                                                                                                                                           "lease_duration": 0,
                                                                                                                                                                                             "data": null,
                                                                                                                                                                                               "wrap_info": null,
                                                                                                                                                                                                 "warnings": null,
                                                                                                                                                                                                   "auth": {
                                                                                                                                                                                                           "client_token": "s.LIcuKvEKAtmLSvJkjyBDMcN6",
                                                                                                                                                                                                               "accessor": "BrH3L2GnFmWD9kPkrVmoIgzn",
                                                                                                                                                                                                                   "policies": [
                                                                                                                                                                                                                         "default",
                                                                                                                                                                                                                               "dev-policy",
                                                                                                                                                                                                                                     "my-policy"
                                                                                                                                                                                                                                         ],
                                                                                                                                                                                                                                             "token_policies": [
                                                                                                                                                                                                                                                   "default",
                                                                                                                                                                                                                                                         "dev-policy",
                                                                                                                                                                                                                                                               "my-policy"
                                                                                                                                                                                                                                                                   ],
                                                                                                                                                                                                                                                                       "metadata": {
                                                                                                                                                                                                                                                                                 "role_name": "my-role"
                                                                                                                                                                                                                                                                                     },
                                                                                                                                                                                                                                                                                         "lease_duration": 2764800,
                                                                                                                                                                                                                                                                                             "renewable": true,
                                                                                                                                                                                                                                                                                                 "entity_id": "471ad20b-580e-9ba6-5208-46f0aa6d407b",
                                                                                                                                                                                                                                                                                                     "token_type": "service",
                                                                                                                                                                                                                                                                                                         "orphan": true
                                                                                                                                                                                                                                                                                                           }
                                                                                                                                                                               }
                                                                                                                                                                               11:12:41 [tobal@zion] (master) ~/opt/vault
                                                                                                                                                                               $> export VAULT_TOKEN=s.LIcuKvEKAtmLSvJkjyBDMcN6
                                                                                                                                                                               11:13:19 [tobal@zion] (master) ~/opt/vault
                                                                                                                                                                               $> curl \
                                                                                                                                                                               >     --header "X-Vault-Token: $VAULT_TOKEN" \
                                                                                                                                                                               >     --request POST \
                                                                                                                                                                               >     --data '{"bar": "baz"}' \
                                                                                                                                                                               >     http://127.0.0.1:8200/v1/secret/hello
                                                                                                                                                                               {"request_id":"0f6afed9-55b4-b3e2-7480-414fc49e10dc","lease_id":"","renewable":false,"lease_duration":0,"data":null,"wrap_info":null,"warnings":["Invalid path for a versioned K/V secrets engine. See the API docs for the appropriate API endpoints to use. If using the Vault CLI, use 'vault kv put' for this operation."],"auth":null}11:13:27 [tobal@zion] (master) ~/opt/vault
                                                                                                                                                                               $> curl     --header "X-Vault-Token: $VAULT_TOKEN"     --request POST     --data '{"bar": "baz"}'     http://127.0.0.1:8200/v1/secret/hello | jq
                                                                                                                                                                                 % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                                                                                                                                                                                                  Dload  Upload   Total   Spent    Left  Speed
                                                                                                                                                                                                                  100   345  100   331  100    14  82750   3500 --:--:-- --:--:-- --:--:-- 86250
                                                                                                                                                                                                                  {
                                                                                                                                                                                                                        "request_id": "0da8cc1c-916c-fee8-ba6d-0a92d24c7bff",
                                                                                                                                                                                                                          "lease_id": "",
                                                                                                                                                                                                                            "renewable": false,
                                                                                                                                                                                                                              "lease_duration": 0,
                                                                                                                                                                                                                                "data": null,
                                                                                                                                                                                                                                  "wrap_info": null,
                                                                                                                                                                                                                                    "warnings": [
                                                                                                                                                                                                                                        "Invalid path for a versioned K/V secrets engine. See the API docs for the appropriate API endpoints to use. If using the Vault CLI, use 'vault kv put' for this operation."
                                                                                                                                                                                                                                          ],
                                                                                                                                                                                                                                            "auth": null
                                                                                                                                                                                                                  }
#+END_SRC
